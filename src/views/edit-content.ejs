<% /*  =========================================================================
     Edit existing AR content – update Scene Options or replace marker files
     Route: /dashboard/edit/:slug     (GET & POST handlers in dashboardRoutes.js)
     ====================================================================== */ %>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Edit – <%= content.title %></title>

  <link rel="stylesheet" href="/css/style.css" />
</head>

<body>
  <div class="container">
    <a href="/dashboard" class="back-link button button-primary">&larr; Dashboard</a>
    <h1>Edit AR Content</h1>

    <form id="editForm"
          action="/dashboard/edit/<%= content.slug %>"
          method="POST"
          enctype="multipart/form-data">

      <!-- 1 ▸ Scene options (position, scale) ------------------------ -->
      <fieldset>
        <legend>Scene Options</legend>

        <div class="form-group">
          <label>Position (X, Y, Z)</label>
          <div class="position-group">
            <div>
              <label class="sub-label" for="positionX">X</label>
              <input type="number" step="0.1" id="positionX" name="positionX"
                     value="<%= content.positionX %>" />
            </div>
            <div>
              <label class="sub-label" for="positionY">Y</label>
              <input type="number" step="0.1" id="positionY" name="positionY"
                     value="<%= content.positionY %>" />
            </div>
            <div>
              <label class="sub-label" for="positionZ">Z</label>
              <input type="number" step="0.1" id="positionZ" name="positionZ"
                     value="<%= content.positionZ %>" />
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="modelScale">Scale (Size)</label>
          <input type="number" step="0.1" id="modelScale" name="modelScale"
                 value="<%= content.modelScale %>" required>
        </div>
      </fieldset>

      <!-- 2 ▸ Action button (optional) ------------------------------- -->
      <fieldset>
        <legend>Action Button (Optional)</legend>
        <div class="form-group">
          <label for="actionButtonText">Button Text</label>
          <input type="text" id="actionButtonText" name="actionButtonText"
                 value="<%= content.actionButton?.text || '' %>">
        </div>
        <div class="form-group">
          <label for="actionButtonUrl">Button URL</label>
          <input type="text" id="actionButtonUrl" name="actionButtonUrl"
                 value="<%= content.actionButton?.url || '' %>">
        </div>
      </fieldset>

      <!-- 3 ▸ Replace NFT marker (optional) -------------------------- -->
      <% if (content.contentType === 'marker') { %>
      <fieldset>
        <legend>Replace Marker Files (.fset / .fset3 / .iset)</legend>
        <p class="help-text">Upload all three files to replace the current marker.</p>

        <div class="form-group">
          <input type="file" name="fsetFile"  accept=".fset">
        </div>
        <div class="form-group">
          <input type="file" name="fset3File" accept=".fset3">
        </div>
        <div class="form-group">
          <input type="file" name="isetFile"  accept=".iset">
        </div>
      </fieldset>
      <% } %>

      <button type="submit" class="button button-success">Save Changes</button>
    </form>
  </div>

  <script src="/js/edit-content.js" defer></script>
</body>
</html>
